# Portal values
image:
  registry: eu.gcr.io/spherical-plane-479301-d5
  repository: portal
  tag: 957b2ef
  pullPolicy: IfNotPresent
replicas: 1
autoscaling:
  enabled: false
  minReplicas: 3
  maxReplicas: 5
  targetCpu:
    type: Utilization
    averageUtilization: 60
  targetMemory:
    type: AverageValue
    averageValue: 300Mi
rollingUpdate: {}

applicationPort: 4000

resources:
  requests:
    # CPU request needed for HPA
    # see https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/#support-for-resource-metrics
    cpu: 200m
    memory: 650Mi

sealedSecrets: true

scheduler:
  enabled: false
  tasks:
    - name: recurring-invoices
      args:
        - invoice:recurring:create
        - --networkType
        - live
      schedule: "0 11 * * *"
    - name: subscription-bills-creation
      args:
        - subscriptions:bills:create:all
        - --networkType
        - live
      schedule: "10 10 * * *"
    - name: unpaid-subscription-notification
      args:
        - subscriptions:bills:notify-unpaid
      schedule: "10 10 * * 1"
    - name: subscription-seats-monitoring
      args:
        - subscriptions:seats:monitor-usage
      schedule: "10 20 * * 1"
    - name: invoice-approvers-notify-test
      args:
        - approval:notify
        - --networkType
        - test
      schedule: "0 */2 * * 1-5"
    - name: invoice-approvers-notify-live
      args:
        - approval:notify
        - --networkType
        - live
      schedule: "0 */2 * * 1-5"
    - name: payso-kyb-reminder
      args:
        - users:external-account:payso-kyb-reminder
      schedule: "0 11 * * *"
    - name: async-transaction-monitoring
      args:
        - tx:monitor:all
      schedule: "*/30 * * * *"
    - name: safe-tx-monitoring
      args:
        - tx:monitor:malicious-safe-transaction
      schedule: "0 */2 * * *"
    - name: execute-pending-quotes
      args:
        - crypto-to-fiat:execute-pending-quotes
      schedule: "*/3 * * * *"
  resources:
    requests:
      cpu: 200m
      memory: 300Mi
    limits:
      memory: 1Gi

subscriber:
  enabled: false
  replicas: 1
  resources:
    requests:
      cpu: 100m
      memory: 300Mi
    limits:
      memory: 1Gi
subscriberRequestUpdated:
  enabled: false
  replicas: 1
  pubsub:
    subscription: request-updated-sub
  resources:
    requests:
      cpu: 200m
      memory: 300Mi
    limits:
      memory: 1Gi
subscriberCreateRequests:
  enabled: false
  replicas: 1
  pubsub:
    subscription: create-requests-sub
  resources:
    requests:
      cpu: 100m
      memory: 250Mi
    limits:
      memory: 400Mi
subscriberCsvExport:
  enabled: false
  replicas: 1
  pubsub:
    subscription: csv-export-sub
  resources:
    requests:
      cpu: 200m
      memory: 300Mi
    limits:
      memory: 1Gi

securityContext:
  enabled: true
  fsGroup: 1001
  runAsUser: 1001

sync:
  enabled: false
  replicas: 1
  image:
    registry: eu.gcr.io/spherical-plane-479301-d5
    repository: api-sync
    pullPolicy: IfNotPresent
  debug:
    graphql: true
  pubsub:
    subscription: api-sync-subscription
  autoscaling:
    enabled: false
  resources:
    requests:
      cpu: 50m
      memory: "0.3Gi"
    limits:
      cpu: 400m
      memory: "0.75Gi"
extraEnvSecrets:
  RT_API_LIVE_API_KEY: AgBN0iGzIFFLW+rzFESjYFhdJeAWBNXTTM2Z3PFa+aFYWo/gBsFFNc9IovPjLRBEIed1xyqyElHJlG/um6+E+H9n1y9mKUEtkfSVflMjCSeSz7rF6/d+Lx96qU8W0QBhN+BZZIXv69Q+FsWE1lhKGweQFv7VyFPMzW/4Ki12CHHQ+oNRx6b6gvlfOXTXRBWFW+JNmlPY4GGS9ZRWOf/R+lbIvjxieVrUJEWN+NZbPX8MCm+NeozjbfoK7nyleyL7MjpjUj5gCOwgG7yg8nI/gQ1wY80E2v7tWVzmdnZnkvrJ//5KHNDfR48sfT7clal/1bA7rbcn/pC4OQ8zQpKP2bM5w7VtT/q6bY6btgF0baxYeTlX0BYCMgZteQ9E75aSmnb1JGSclcW+7SwiyWCzX7FbVZjaUsimvfJHuVoJPjHtutpVuw+CF8kZo7pAEgAqo9W642LQA4LCGMIXOL0zYYuTqu1vZPdEWm0Bxjcj4xV4ypTnHRrMM0jHrivTO+hqLGOHKam2MmBZuTpiXvxnT81oNJae9FlriQMlFdEpwlXrLsdBUX+6XLzRRSoEL+GlKhVrfLlEW50IddHP9QFQSdBjUi8OTKIYXVWxgOSo8DK08fC2TS2j5dkIU/gFwAniCUTEQhXheFb1UQGuZuFWlST0YnkS1SWn4brkfrSeA7IF3AK/v5hkOrpoC3DTGrqm6mpvlt1fG52XLlM2pXLty4aciSaaOVoLkpo=
  RT_API_STAGING_API_KEY: AgBVek2xCOA/zL4ZCMJlibIXRE46frSZV8RST2WOSdNnkRaQrrqaqk2Z3QviXOKx3bWlXX7XpxcKKgMrLo9swuUfNdTRzgrwYoJGHdlUpRowf1anWD22ba5JhIcNf1UIma3VIDT1npG1SB3YkF4OnJxwZJYERq7/uc5HlDNGSI9PsRjW3dIAp3VCAkbLlJ5qO6+SLmwXUOJV1yNDbN7Ak+UU1vUDxNYr7eW7qJW70ElImmaml8Ivqcp0AeZdaWIvU8fCnUfOLjOKL/zCL08QyTaNFWjbnf+kfJu01WpGef+BCNmpZmsCCtJGU733E5FixyV5APZsPBzjbFWSaGCOn2TMrj5JkfdJvsck9hAx6/k/DccgCpyk1AhWcMfotiNM+xQOB5znpcjWXxiy61CbZxvXQXDyJxXGN0kZIZduKxqVOhj3hG+3LoGljFKQhYkRZ3Zh3Fktp9XgqHq0h9+a45ztSFBx2FV89MlRZrVmzMn3gPIl6HcwflDV7+9dVyQ3xK8rpIbbq4QO7ZmCNSEV/Pj6oW9g3eXFu2QbiP5KcM9EQyqTPPqCUPVYpQSI9IjeqhfohOGcKJwAsOxFac4vsMpxwaEhPnjuq12od7XjEFoB5W1GFVb1WPH1lWoLSpnvP4U/8uvXTp9yMEuF5YepwBc/7WDbaROkMcEGhTvyLcKceJh8EnbReei5Vx74KyxDQUjDPheY7MWDIJr4vcaF1GapZJ6YW5nN

workloadIdentity: argocd-sa@spherical-plane-479301-d5.iam.gserviceaccount.com
