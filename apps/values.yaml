# Portal values
image:
  registry: eu.gcr.io/spherical-plane-479301-d5
  repository: portal
  pullPolicy: IfNotPresent
replicas: 1
autoscaling:
  enabled: false
  minReplicas: 3
  maxReplicas: 5
  targetCpu:
    type: Utilization
    averageUtilization: 60
  targetMemory:
    type: AverageValue
    averageValue: 300Mi
rollingUpdate: {}

applicationPort: 4000

resources:
  requests:
    # CPU request needed for HPA
    # see https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/#support-for-resource-metrics
    cpu: 200m
    memory: 650Mi

sealedSecrets: true

scheduler:
  enabled: false
  tasks:
    - name: recurring-invoices
      args:
        - invoice:recurring:create
        - --networkType
        - live
      schedule: "0 11 * * *"
    - name: subscription-bills-creation
      args:
        - subscriptions:bills:create:all
        - --networkType
        - live
      schedule: "10 10 * * *"
    - name: unpaid-subscription-notification
      args:
        - subscriptions:bills:notify-unpaid
      schedule: "10 10 * * 1"
    - name: subscription-seats-monitoring
      args:
        - subscriptions:seats:monitor-usage
      schedule: "10 20 * * 1"
    - name: invoice-approvers-notify-test
      args:
        - approval:notify
        - --networkType
        - test
      schedule: "0 */2 * * 1-5"
    - name: invoice-approvers-notify-live
      args:
        - approval:notify
        - --networkType
        - live
      schedule: "0 */2 * * 1-5"
    - name: payso-kyb-reminder
      args:
        - users:external-account:payso-kyb-reminder
      schedule: "0 11 * * *"
    - name: async-transaction-monitoring
      args:
        - tx:monitor:all
      schedule: "*/30 * * * *"
    - name: safe-tx-monitoring
      args:
        - tx:monitor:malicious-safe-transaction
      schedule: "0 */2 * * *"
    - name: execute-pending-quotes
      args:
        - crypto-to-fiat:execute-pending-quotes
      schedule: "*/3 * * * *"
  resources:
    requests:
      cpu: 200m
      memory: 300Mi
    limits:
      memory: 1Gi

subscriber:
  enabled: false
  replicas: 1
  resources:
    requests:
      cpu: 100m
      memory: 300Mi
    limits:
      memory: 1Gi
subscriberRequestUpdated:
  enabled: false
  replicas: 1
  pubsub:
    subscription: request-updated-sub
  resources:
    requests:
      cpu: 200m
      memory: 300Mi
    limits:
      memory: 1Gi
subscriberCreateRequests:
  enabled: false
  replicas: 10
  pubsub:
    subscription: create-requests-sub
  resources:
    requests:
      cpu: 100m
      memory: 250Mi
    limits:
      memory: 400Mi
subscriberCsvExport:
  enabled: false
  replicas: 1
  pubsub:
    subscription: csv-export-sub
  resources:
    requests:
      cpu: 200m
      memory: 300Mi
    limits:
      memory: 1Gi

securityContext:
  enabled: true
  fsGroup: 1001
  runAsUser: 1001

sync:
  enabled: false
  replicas: 1
  image:
    registry: eu.gcr.io/spherical-plane-479301-d5
    repository: api-sync
    pullPolicy: IfNotPresent
  debug:
    graphql: true
  pubsub:
    subscription: api-sync-subscription
  autoscaling:
    enabled: false
  resources:
    requests:
      cpu: 50m
      memory: "0.3Gi"
    limits:
      cpu: 400m
      memory: "0.75Gi"
extraEnvSecrets:
  RT_API_LIVE_API_KEY: AgAJcIhzVcu5mdfyWnpIPPSqDus25CImmaJCBhDT49IPs+ench0I7R7tTR2aRIYL7PVczAiGgS+n44bqRP6SjNdQlUdSGA+whPfbw/8uHGxaEGMEruvnxxSWXlp1tVloMEqgICmWGwTcbJAPfIRSlc+2r6CPwBhYMjycyvxQcP1dMbqmd0+k2llH8OFNClCB/vZ/s9wF7djdxN6Z33lNwbSrDYid308FBpWXGh3/jO97BLZEdBWK3a6wY/L5eJRCxwOdaQM55jYwv/WDLFX/Gp6QeaK4YhaCAoAmrdwXOt2ObOrjdrx8ZjldcR825S6+z7hKcEK+oJGTyZ6bIvez6yTXF8vBAHX2KZWNVTpaqsBjqKtlxxcYm5i1Irhq+Wy7u2Iumv2TcKGfeW9g+2T1hGRh+reRIgowX6EV2Qc4Vv33E/2lgwokOw9YF6hQN7TqtWukWtEYjkiF2p+oWS8EUHVSmRvFkwQRUv61bjWXQUuzFx9/D4niOyZ/E8sd5MqdiIHZAGXmGXlPjL6JiaNVrXtNBOECfJguMJG4jjoN3+3Oci3KhviKb9XgGho20mkcGGq6VH526GhGar0lCCpxFdKsKgNuJs/Yf2sjRe5xQFUbjTcuJr9TDgRxrFFoiztOlA/NOMxDlRDfDwwIGWp/5qI4eQgB8ZMXA9lO/9Sso0YEQfr2/6gV1EFi3AcXPhuiMjDUr+PEE04LNrEXvOfYTPMsgGkDVUaC4kg=
  RT_API_STAGING_API_KEY: AgBO/6puEmzEcFC0YTn8WLy2XR8/rJP4UcpYQEoron39JlYtRueb1w4RAObsOzTtzHzn/Fjy/VY2j5UpoSprStsSy0OTqfyfuqjhRMPEfqfUO5IUxfOtGufUnQAcwYmaL45kQcB0wWlHVc+HVSxRozbTQgy5oxZkeNIbside5tgysIQZdQnvszF5N0IvMiosxMYLHhhiZC7uC4ijyBGPSJF75TRxyIwL+yEdceXZNlqTZKL85lmZI4cF5/JTQqj+ElPy81GmYxIz3Eq3sGcJscB2H6x2Z0i+xL+yYyhCwF7J1tNpDSPNFCZOmrdQyM5M5QK8AoaXANZoAzB77yy7Uu7sJC7dZht/sAXQTuMVs4W1kW2xFjaly7BRg1Mgf2Bs8ogsDyi9e5sdBuE6Rv/PVEHtp0sL8g6HHTq2IT4TOaqC2B7mtuztoa3OZ7AUM9ejAMQF7tZXDeoVSXP4GRrMV1OAxlR3edYRzP0tmuuAnySOmniS1FA9s5SlwxSAscFFM2lgml8+3Lraw+LZg9IlkUY5gPRG9sUgWsXihnMK3LSArV6ZH9kB3tuPLBEm1qn72mxjIzeGbtC9P8GzKTi7I4y7uV/N849LFepOjEVIdLxQtFcvLEa5kOKubCyeefjCdvyMxvlfCkb8uOJtWq9BIHZFAf79jN4kNJTcblJm31f8IljiqXIUzu7JQxZ2q+Z/yV7FN8J3NZibxFyFFVUTejd8AVG8zw/N

workloadIdentity: argocd-sa@spherical-plane-479301-d5.iam.gserviceaccount.com
